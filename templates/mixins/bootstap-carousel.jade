//
   Created by ksespinola on 5/10/14.

mixin bootstrap-carousel(images)
  #Slidshow.carousel.slide
    //
         Indicators
    ol.carousel-indicators
      each image, i in images
        li(data-target='#Slideshow', data-slide-to= i, class= (i == 0) ? "active" : "")
    .carousel-inner
      each image, i in images
        .item(class= (i == 0) ? "active" : "")
          img.img-responsive(src= image.url)
          .container
            .carousel-caption
    //
       Controls
    a.left.carousel-control(href='#Slideshow', data-slide='prev')
      span.icon-prev
    a.right.carousel-control(href='#Slideshow', data-slide='next')
      span.icon-next

mixin carousel-indicator()
  script(id="indicators-template").
    <% var count = items.length %>
    <% for(var i = 0; i < count +1; i++) { %>
        <li data-target="#Slideshow" data-slide-to="<%= i %>" <% if(i == 0){ %> class="active" <% } %> ></li>
    <% } %>

mixin carousel-item()
  script(id="items-template").
    <% var active = 0 %>
    <% _.each(images,function(image){ %>
        <div class="item">
            <img src="<%= image.url %>" class="img-responsive <% if(active = 0){ %> active <% } %>">
        </div>
        <% active = 1 %>
    <% }) %>